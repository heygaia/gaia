---
title: "Logging"
description: "Configure GAIA's advanced logging system with environment variables and usage examples."
icon: "note"
---

GAIA uses an advanced logging system built on Loguru with multiple outputs, automatic rotation, and structured logging.

## Environment Variables

Configure logging behavior with these environment variables:

```bash
LOG_LEVEL=INFO          # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_DIAGNOSE=false      # Enable detailed error diagnosis
LOG_BACKTRACE=true      # Include stack traces in logs
LOG_COLORIZE=true       # Enable colored console output
```

## Log Files

The system automatically creates these log files in the `logs/` directory:

| File                     | Purpose                     | Rotation | Retention |
| ------------------------ | --------------------------- | -------- | --------- |
| `gaia-{date}.log`        | General application logs    | Daily    | 30 days   |
| `errors-{date}.log`      | Errors and critical issues  | 10MB     | 90 days   |
| `structured-{date}.json` | Machine-readable JSON logs  | 50MB     | 60 days   |
| `critical-{date}.log`    | Critical issues only        | 1MB      | 1 year    |
| `performance-{date}.log` | Performance logs (filtered) | 20MB     | 7 days    |

## Usage

### Using Pre-configured Loggers

```python
from app.config.loggers import auth_logger, mongo_logger

auth_logger.info("User authenticated successfully")
mongo_logger.error("Database connection failed")
```

### Creating Contextual Loggers

```python
from app.config.logging import get_contextual_logger

# Add context to all log messages
api_logger = get_contextual_logger("api", endpoint="/users", method="POST")
api_logger.info("Processing request")  # Includes context automatically
```

### Function Logging Decorator

```python
from app.decorators import log_function_call

@log_function_call
def process_data(data: dict):
    return processed_data  # Automatically logs execution time
```

## Custom Log Levels

Three custom levels are available with special formatting:

- **PERFORMANCE** âš¡ - Performance metrics and timing
- **AUDIT** ðŸ“Š - Audit trail events
- **SECURITY** ðŸ”’ - Security-related events

```python
from loguru import logger

logger.log("PERFORMANCE", "Query executed in 0.05s")
logger.log("AUDIT", "User permissions changed")
logger.log("SECURITY", "Failed login attempt detected")
```

## Production Tips

- Set `LOG_LEVEL=INFO` or `WARNING` in production to reduce verbosity
- Use `LOG_DIAGNOSE=false` in production for security
- Monitor log file sizes and rotation policies
- Parse structured JSON logs for monitoring and analysis
